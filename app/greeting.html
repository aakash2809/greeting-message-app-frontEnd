<!DOCTYPE html>

<html>

<head>
  <title>Greeting App</title>
  <link rel="stylesheet" href='../app/css/greeting.css'>
</head>

<body>
  <div class="container">
    <div class="headerNav">
      <ul class="headerList">
        <li class="listItem"><strong>Greeting App</strong></li>
        <li class="listItem"><img src="./assets/bell.png"> <select class="logo">
          </select> </li>
        <li class="listItem"><img src="./assets/mail.png"></li>
        <li class="listItem"><img src="./assets/support.png">support</li>
        <li class="listItem"><img src="./assets/tools.png">tools <select class="logo">
          </select></li>
        <li id="signBtn" class="listItem">Sign In</li>
        <li id="signBtn" class="listItem">Sign Up</li>
      </ul>
    </div>

    <div class="side-bar">
      <ul>
        <li><img src="../app/assets/diamond.png"> List</li>
        <li id="addNewgreeting">
          <img src="../app/assets/pen.png">
          Add
        </li>

        <li>
          <img src="../app/assets/edit.png"> Edit
        </li>
        <li>
          <img src="../app/assets/trash.png">
          delete
        </li>
      </ul>
    </div>

    <div class="panels-container">
      <pre><strong>Basic Panels Layout</strong></pre>
      <div class="panels">
        <div id="app"></div>
      </div>
    </div>
  </div>
  </div>

  <div class="form-popup" id="addGreetingForm" style="display:none">
    <form id="addGreeting" action="javascript:saveGreeting();" class="formContainer" name="addForm"  onsubmit="return validateAddGreetingForm()">
      <h3>Add Greeting</h3>
      <input type="text" placeholder="Enter name" id="name" class="formError"  required  autocomplete="off">
      <span id="nameError" class="errorMessage"></span>
      <input type="text" placeholder="Enter message" id="msg" class="formError"  required 
        autocomplete="off">
        <span id="msgError" class="errorMessage"></span><br>
      <button type="submit" class="btn" >Save</button>
      <button type="button" id="closeAddGreetingForm" class="btn">Close</button>
    </form>
  </div>

  <div class="delete-form-popup" id="deleteGreetingForm" style="display:none">
    <form class="delFormContainer">
      <h3>Delete Greeting</h3>
      <pre> Are you sure...?</pre>
       <button type="submit" id="deleteRecord" class="deleteBtn">Yes</button>
       <button type="button" id="closeDeleteGreetingForm" class="deleteBtn" >No</button>  
    </form>
</div>

<div class="update-form-popup" id="updateGreetingForm" style="display:none">
      <form action="javascript:callToUpdateGreeting();" id="updateGreeting" class="formContainer" onsubmit="return validateUpdateGreetingForm()">
          <h3>Update Greeting</h3>
           <input type="text" placeholder="Enter name" id="updateName" required  autocomplete="off">
           <span id="updNameError" class="errorMessage"></span>
           <input type="text" placeholder="Enter  message" id="updateMsg" required  autocomplete="off">
           <span id="updMsgError" class="errorMessage"></span><br>
           <button type="submit" id="updateRecord" class="btn">Save</button>
            <button type="button" id="closeUpdateGreetingForm" class="btn">Close</button>          
        </form>
    </div>

</body>

<script>

validateAddGreetingForm = () =>{

var greetingName = document.getElementById('name').value;
var greetingMessage = document.getElementById('msg').value;

var returnValue = true;

if(greetingName.length < 3){
  document.getElementById('nameError').innerHTML = "* Length should be greater than 3 character"
  returnValue = false;
}

if(greetingName[0] != greetingName[0].toUpperCase()){
  document.getElementById('nameError').innerHTML = "* First letter should be capital"
  returnValue = false;
}

if(greetingMessage.length < 3){
  document.getElementById('msgError').innerHTML = "* Length should be greater than 3 character"
  returnValue = false;
}

if(greetingMessage[0] != greetingMessage[0].toUpperCase()){
  document.getElementById('msgError').innerHTML = "* First letter should be capital"
  returnValue = false;
}


return returnValue;
}

validateUpdateGreetingForm = () =>{
var greetingName = document.getElementById('updateName').value;
var greetingMessage = document.getElementById('updateMsg').value;
var returnValue = true;

if(greetingName.length < 3){
  document.getElementById('updNameError').innerHTML = "* Length should be greater than 3 character"
  returnValue = false;
}

if(greetingName[0] != greetingName[0].toUpperCase()){
  document.getElementById('updNameError').innerHTML = "* First letter should be capital"
  returnValue = false;
}

if(greetingMessage.length < 3){
  document.getElementById('updMsgError').innerHTML = "* Length should be greater than 3 character"
  returnValue = false;
}

if(greetingMessage[0] != greetingMessage[0].toUpperCase()){
  document.getElementById('updMsgError').innerHTML = "* First letter should be capital"
  returnValue = false;
}

return returnValue;
}

</script>
<script src="./greeetingFetchAPI.js"></script>

</html>